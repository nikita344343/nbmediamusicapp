# Установка плагина NB App REST API на WordPress

Чтобы в приложении работали **«Мой каталог»** и **«Статистика»**, на сайте нужно установить и включить плагин.

---

## Шаг 1: Скопировать плагин на сайт

1. Открой папку **wp-plugin-nb-app-rest** (она лежит рядом с папкой **app** в проекте WordPressSyncApp).
2. Скопируй **целиком** папку **wp-plugin-nb-app-rest** на сервер в каталог плагинов WordPress:
   - Обычно это: `wp-content/plugins/`
   - Итог: на сервере должна быть папка `wp-content/plugins/wp-plugin-nb-app-rest/` с файлом `nb-app-rest-api.php` внутри.

Через FTP/файловый менеджер хостинга или через «Плагины → Добавить новый → Загрузить плагин» (архив папки).

---

## Шаг 2: Активировать плагин

В админке WordPress: **Плагины** → найди **«NB App REST API»** → **Включить**.

---

## Шаг 3: Пароль приложений

В приложении используются **логин** и **пароль приложений** (Application Password), а не обычный пароль от аккаунта.

1. В админке: **Пользователи** → свой профиль.
2. Внизу страницы — блок **«Пароли приложений»**.
3. Введи имя (например, «Android») → **Добавить**.
4. Скопируй выданный пароль и вставь его в приложение в поле **«Пароль приложений»**.

---

## Что даёт плагин

- **GET /wp-json/nb-app/v1/catalog** — список релизов текущего пользователя (как в NB Music Catalog), с полями: название, артист, дата, UPC, жанр, статус, обложка, стримы, треклист.
- **GET /wp-json/nb-app/v1/stats** — статистика из Track Stats Plugin по текущему пользователю (всего прослушиваний, по платформам, по трекам). Опционально: `date_from`, `date_to` в формате `YYYY-MM-DD`.

Оба маршрута требуют авторизации (Application Password в заголовке `Authorization: Basic ...`). Приложение отправляет её автоматически после сохранения логина и пароля приложений.

---

## Проверка

После активации плагина открой в браузере (подставь свой домен):

- `https://appnbmedia.ru/wp-json/nb-app/v1/catalog`

Без авторизации должен прийти ответ с кодом **401** или сообщением об ошибке. С авторизацией (логин + пароль приложений в приложении) запросы к каталогу и статистике будут проходить, и в приложении заработают кнопки **«Мой каталог»** и **«Статистика»**.
